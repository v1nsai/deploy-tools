data "template_cloudinit_config" "cloud-config" {
  gzip          = true
  base64_encode = true

  # Main cloud-config configuration file.
  part {
    filename     = "cloud-config.yaml"
    content_type = "text/cloud-config"
    content      = base64decode("I2Nsb3VkLWNvbmZpZwpwYWNrYWdlX3VwZGF0ZTogdHJ1ZQpwYWNrYWdlczoKICAtIGJhc2gtY29tcGxldGlvbgogIC0gdW56aXAKdXNlcnM6CiAgLSBuYW1lOiBkcmV3CiAgICBzdWRvOiBbJ0FMTD0oQUxMKSBOT1BBU1NXRDpBTEwnXQogICAgZ3JvdXBzOiBbc3Vkbywgd3d3LWRhdGFdCiAgICBzaGVsbDogL2Jpbi9iYXNoCiAgICBsb2NrX3Bhc3N3ZDogZmFsc2UKICAgIHBhc3N3ZDogJDYkcm91bmRzPTQwOTYkblFFZWFIdHJqaVVseE9QaSRMUWxnaTBYQlI2dTQ2QUpGaFd4c1dCQks4WXFIYkdXWVdrV25HLllobWRZa2MvbE1pQWFjTXdRQWJaMFc3TW9zTEZleHVzaEhRcGZhMDVlRzdnc0wvMQogICAgc3NoLWF1dGhvcml6ZWQta2V5czoKICAgICAgLSBzc2gtcnNhIEFBQUFCM056YUMxeWMyRUFBQUFEQVFBQkFBQUJBUUNYM1pubm9qU3BxaTFSN0NXbVA3dVZGVTJmRWQydVM0UFlRcFdDMjNTY21ER1A3S0ZIZVRKZk1jNmVNYUFoYnhmSVh4MkNGZHNJaFA1VTU4QkZMbUF4a1VJTThsR25IZ2gxdU1FL2FPTVpva1pyRGhZbncwZWFhbVZPZzByZEtEL3VhVG84N0FTb3hwZjBYWW5ycWNyWWhGSVFvZHhqc0NDOHBDVTVFZ2poOVFEZ0hzbmlKNXZXRWt4WkdQUTRTWElqNHR4aDh1WE1JMG1oNTdCV0pSSzB6SklEelpDeHVidHJPcFdvUW5WdmcvWlYrVGhneTBQOW03ZThPSGJhTTNVLzdwNERCZDFNWjk1ak53amVmTWVENWhSNDZUMzVya1I5dy9lYkVJS2hHanowVUIyeVJVWlBPUHFCelZmaXhZQTZnZmQ1YzFBaGpsdUN5Q3FoTEVNZCBHZW5lcmF0ZWQtYnktTm92YQogIC0gbmFtZTogd29yZHByZXNzCiAgICBzdWRvOiBmYWxzZQogICAgZ3JvdXBzOiBbd3d3LWRhdGFdCiAgICBzaGVsbDogL2Jpbi9iYXNoCiAgICBsb2NrX3Bhc3N3ZDogZmFsc2UKd3JpdGVfZmlsZXM6CiAgLSBwYXRoOiAvZXRjL3NzaC9zc2hkX2NvbmZpZwogICAgY29udGVudDogfAogICAgICBQb3J0IDEzNTUKICAgICAgUGVybWl0Um9vdExvZ2luIG5vCiAgICAgIFBhc3N3b3JkQXV0aGVudGljYXRpb24geWVzCiAgICBhcHBlbmQ6IHRydWUKICAgIHBlcm1pc3Npb25zOiA2MDAKICAtIHBhdGg6IC90bXAvbGVtcC1pbnN0YWxsLnNoCiAgICBlbmNvZGluZzogYmFzZTY0CiAgICBwZXJtaXNzaW9uczogNzAwCiAgICBjb250ZW50OiB8LQogICAgICBJeUV2WW1sdUwySmhjMmdLQ25ObGRDQXRaUW9LUkU5TlFVbE9QU0prWldaaGRXeDBJZ29LSXlCSmJuTjBZV3hzSUhCaFkydGhaMlZ6Q21Gd2RDQjFjR1JoZEdVS1lYQjBJR2x1YzNSaGJHd2dMWGtnYm1kcGJuZ2diV0Z5YVdGa1lpMXpaWEoyWlhJZ2NHaHdMV1p3YlNCd2FIQXRiWGx6Y1d3Z2NHaHdMV04xY213Z2NHaHdMV2RrSUhCb2NDMXBiblJzSUhCb2NDMXRZbk4wY21sdVp5QndhSEF0YzI5aGNDQndhSEF0ZUcxc0lIQm9jQzE0Yld4eWNHTWdjR2h3TFhwcGNBb0tJeUJEYjI1bWFXZDFjbVVnYldGeWFXRmtZZ29qSUcxNWMzRnNYM05sWTNWeVpWOXBibk4wWVd4c1lYUnBiMjRLSXlCdFlYSnBZV1JpSUMxMUlIZHdMWFZ6WlhJZ0xYQUtDaU1nUTI5dVptbG5kWEpsSUc1bmFXNTRDbTFyWkdseUlDOTJZWEl2ZDNkM0x5UkVUMDFCU1U0S1kyaHZkMjRnTFZJZ2QyOXlaSEJ5WlhOek9uZHZjbVJ3Y21WemN5QXZkbUZ5TDNkM2R5OGtSRTlOUVVsT0NuUnZkV05vSUM5bGRHTXZibWRwYm5ndmMybDBaWE10WVhaaGFXeGhZbXhsTHlSRVQwMUJTVTRLWldOb2J5QWlJeUJuWlc1bGNtRjBaV1FnTWpBeU15MHdOUzB5T1N3Z1RXOTZhV3hzWVNCSGRXbGtaV3hwYm1VZ2RqVXVOeXdnYm1kcGJuZ2dNUzR4Tnk0M0xDQlBjR1Z1VTFOTUlERXVNUzR4YXl3Z2FXNTBaWEp0WldScFlYUmxJR052Ym1acFozVnlZWFJwYjI0S0l5Qm9kSFJ3Y3pvdkwzTnpiQzFqYjI1bWFXY3ViVzk2YVd4c1lTNXZjbWN2STNObGNuWmxjajF1WjJsdWVDWjJaWEp6YVc5dVBURXVNVGN1TnlaamIyNW1hV2M5YVc1MFpYSnRaV1JwWVhSbEptOXdaVzV6YzJ3OU1TNHhMakZySm1kMWFXUmxiR2x1WlQwMUxqY0tjMlZ5ZG1WeUlIc0tJQ0FnSUNBZ0lDQnNhWE4wWlc0Z09EQTdDaUFnSUNBZ0lDQWdiR2x6ZEdWdUlGczZPbDA2T0RBN0Nnb2dJQ0FnSUNBZ0lISnZiM1FnTDNaaGNpOTNkM2N2SkVSUFRVRkpUanNLSUNBZ0lDQWdJQ0JwYm1SbGVDQnBibVJsZUM1d2FIQWdhVzVrWlhndWFIUnRiQ0JwYm1SbGVDNW9kRzA3Q2dvZ0lDQWdJQ0FnSUhObGNuWmxjbDl1WVcxbElDUkVUMDFCU1U0N0Nnb2dJQ0FnSUNBZ0lHeHZZMkYwYVc5dUlDOGdld29nSUNBZ0lDQWdJQ0FnSUNCMGNubGZabWxzWlhNZ0pIVnlhU0FrZFhKcEx5QTlOREEwT3dvZ0lDQWdJQ0FnSUgwS0NpQWdJQ0FnSUNBZ2JHOWpZWFJwYjI0Z2ZpQmNMbkJvY0NRZ2V3b2dJQ0FnSUNBZ0lDQWdJQ0JwYm1Oc2RXUmxJSE51YVhCd1pYUnpMMlpoYzNSaloya3RjR2h3TG1OdmJtWTdDaUFnSUNBZ0lDQWdJQ0FnSUdaaGMzUmpaMmxmY0dGemN5QjFibWw0T2k5MllYSXZjblZ1TDNCb2NDOXdhSEEzTGpNdFpuQnRMbk52WTJzN0NpQWdJQ0FnSUNBZ2ZRb2dJQ0FnZlFvS0l5QnpaWEoyWlhJZ2V3b2pJQ0FnSUNCc2FYTjBaVzRnTkRReklITnpiQ0JvZEhSd01qc0tJeUFnSUNBZ2JHbHpkR1Z1SUZzNk9sMDZORFF6SUhOemJDQm9kSFJ3TWpzS0NpTWdJQ0FnSUhOemJGOWpaWEowYVdacFkyRjBaU0F2Y0dGMGFDOTBieTl6YVdkdVpXUmZZMlZ5ZEY5d2JIVnpYMmx1ZEdWeWJXVmthV0YwWlhNN0NpTWdJQ0FnSUhOemJGOWpaWEowYVdacFkyRjBaVjlyWlhrZ0wzQmhkR2d2ZEc4dmNISnBkbUYwWlY5clpYazdDaU1nSUNBZ0lITnpiRjl6WlhOemFXOXVYM1JwYldWdmRYUWdNV1E3Q2lNZ0lDQWdJSE56YkY5elpYTnphVzl1WDJOaFkyaGxJSE5vWVhKbFpEcE5iM3BUVTB3Nk1UQnRPeUFnSXlCaFltOTFkQ0EwTURBd01DQnpaWE56YVc5dWN3b2pJQ0FnSUNCemMyeGZjMlZ6YzJsdmJsOTBhV05yWlhSeklHOW1aanNLQ2lNZ0lDQWdJQ01nWTNWeWJDQm9kSFJ3Y3pvdkwzTnpiQzFqYjI1bWFXY3ViVzk2YVd4c1lTNXZjbWN2Wm1aa2FHVXlNRFE0TG5SNGRDQStJQzl3WVhSb0wzUnZMMlJvY0dGeVlXMEtJeUFnSUNBZ2MzTnNYMlJvY0dGeVlXMGdMM0JoZEdndmRHOHZaR2h3WVhKaGJUc0tDaU1nSUNBZ0lDTWdhVzUwWlhKdFpXUnBZWFJsSUdOdmJtWnBaM1Z5WVhScGIyNEtJeUFnSUNBZ2MzTnNYM0J5YjNSdlkyOXNjeUJVVEZOMk1TNHlJRlJNVTNZeExqTTdDaU1nSUNBZ0lITnpiRjlqYVhCb1pYSnpJRVZEUkVoRkxVVkRSRk5CTFVGRlV6RXlPQzFIUTAwdFUwaEJNalUyT2tWRFJFaEZMVkpUUVMxQlJWTXhNamd0UjBOTkxWTklRVEkxTmpwRlEwUklSUzFGUTBSVFFTMUJSVk15TlRZdFIwTk5MVk5JUVRNNE5EcEZRMFJJUlMxU1UwRXRRVVZUTWpVMkxVZERUUzFUU0VFek9EUTZSVU5FU0VVdFJVTkVVMEV0UTBoQlEwaEJNakF0VUU5TVdURXpNRFU2UlVORVNFVXRVbE5CTFVOSVFVTklRVEl3TFZCUFRGa3hNekExT2tSSVJTMVNVMEV0UVVWVE1USTRMVWREVFMxVFNFRXlOVFk2UkVoRkxWSlRRUzFCUlZNeU5UWXRSME5OTFZOSVFUTTRORHBFU0VVdFVsTkJMVU5JUVVOSVFUSXdMVkJQVEZreE16QTFPd29qSUNBZ0lDQnpjMnhmY0hKbFptVnlYM05sY25abGNsOWphWEJvWlhKeklHOW1aanNLQ2lNZ0lDQWdJQ01nU0ZOVVV5QW9ibWQ0WDJoMGRIQmZhR1ZoWkdWeWMxOXRiMlIxYkdVZ2FYTWdjbVZ4ZFdseVpXUXBJQ2cyTXpBM01qQXdNQ0J6WldOdmJtUnpLUW9qSUNBZ0lDQmhaR1JmYUdWaFpHVnlJRk4wY21samRDMVVjbUZ1YzNCdmNuUXRVMlZqZFhKcGRIa2dJbTFoZUMxaFoyVTlOak13TnpJd01EQWlJR0ZzZDJGNWN6c0tDaU1nSUNBZ0lDTWdUME5UVUNCemRHRndiR2x1WndvaklDQWdJQ0J6YzJ4ZmMzUmhjR3hwYm1jZ2IyNDdDaU1nSUNBZ0lITnpiRjl6ZEdGd2JHbHVaMTkyWlhKcFpua2diMjQ3Q2dvaklDQWdJQ0FqSUhabGNtbG1lU0JqYUdGcGJpQnZaaUIwY25WemRDQnZaaUJQUTFOUUlISmxjM0J2Ym5ObElIVnphVzVuSUZKdmIzUWdRMEVnWVc1a0lFbHVkR1Z5YldWa2FXRjBaU0JqWlhKMGN3b2pJQ0FnSUNCemMyeGZkSEoxYzNSbFpGOWpaWEowYVdacFkyRjBaU0F2Y0dGMGFDOTBieTl5YjI5MFgwTkJYMk5sY25SZmNHeDFjMTlwYm5SbGNtMWxaR2xoZEdWek93b0tJeUFnSUNBZ0l5QnlaWEJzWVdObElIZHBkR2dnZEdobElFbFFJR0ZrWkhKbGMzTWdiMllnZVc5MWNpQnlaWE52YkhabGNnb2pJQ0FnSUNCeVpYTnZiSFpsY2lBeE1qY3VNQzR3TGpFN0NpTWdmU0lnUGlBdlpYUmpMMjVuYVc1NEwzTnBkR1Z6TFdGMllXbHNZV0pzWlM4a1JFOU5RVWxPQ214dUlDMXpJQzlsZEdNdmJtZHBibmd2YzJsMFpYTXRZWFpoYVd4aFlteGxMeVJFVDAxQlNVNGdMMlYwWXk5dVoybHVlQzl6YVhSbGN5MWxibUZpYkdWa0x5UkVUMDFCU1U0Z2ZId2dkSEoxWlNBalZFOUVUeUJ0WVd0bElITjFjbVVnZEdocGN5QnBjMjRuZENCaElHSmhaQ0JwWkdWaENtNW5hVzU0SUMxMENuTjVjM1JsYldOMGJDQnlaV3h2WVdRZ2JtZHBibmdLQ2lNZ1NXNXpkR0ZzYkNCM2IzSmtjSEpsYzNNS2NtMGdMWEptSUM5MllYSXZkM2QzTDJoMGJXd3ZLZ3AzWjJWMElDMVFJQzlvYjIxbEwzZHZjbVJ3Y21WemN5Qm9kSFJ3Y3pvdkwzZHZjbVJ3Y21WemN5NXZjbWN2YkdGMFpYTjBMbnBwY0FwMWJucHBjQ0F2YUc5dFpTOTNiM0prY0hKbGMzTXZiR0YwWlhOMExucHBjQ0F0WkNBdmRtRnlMM2QzZHk4a1JFOU5RVWxPQ2dvaklFWnBlQ0JtYjJ4a1pYSWdjR1Z5YldsemMybHZibk1LWTJodGIyUWdOelUxSUMxU0lDOTJZWEl2ZDNkM0x3cGphRzkzYmlCM2IzSmtjSEpsYzNNZ0xWSWdMM1poY2k5M2QzY3YKcnVuY21kOgogIC0gY3AgL2V0Yy9za2VsLy5iYXNocmMgL2hvbWUvZHJldy8ucHJvZmlsZQogIC0gc2VkIC1pICdzLyNmb3JjZV9jb2xvcl9wcm9tcHQ9eWVzL2ZvcmNlX2NvbG9yX3Byb21wdD15ZXMvZycgL2hvbWUvZHJldy8ucHJvZmlsZQogIC0gY2hvd24gZHJldzpkcmV3IC9ob21lL2RyZXcvLnByb2ZpbGUKICAtIHN5c3RlbWN0bCByZXN0YXJ0IHNzaAogIC0gL3RtcC9sZW1wLWluc3RhbGwuc2gK")
  }
}

# data "template_file" "cloud-config" {
#   template = file("cloud-config.yaml")
# }