data "template_cloudinit_config" "cloud-config" {
  gzip          = true
  base64_encode = true

  # Main cloud-config configuration file.
  part {
    filename     = "cloud-config.yaml"
    content_type = "text/cloud-config"
    content      = base64decode("I2Nsb3VkLWNvbmZpZwpwYWNrYWdlX3VwZGF0ZTogdHJ1ZQpwYWNrYWdlczoKICAtIGJhc2gtY29tcGxldGlvbgp1c2VyczoKICAtIG5hbWU6IGRyZXcKICAgIHN1ZG86IFsnQUxMPShBTEwpIE5PUEFTU1dEOkFMTCddCiAgICBncm91cHM6IHN1ZG8KICAgIHNoZWxsOiAvYmluL2Jhc2gKICAgIGxvY2tfcGFzc3dkOiBmYWxzZQogICAgcGFzc3dkOiAkNiRyb3VuZHM9NDA5NiRuUUVlYUh0cmppVWx4T1BpJExRbGdpMFhCUjZ1NDZBSkZoV3hzV0JCSzhZcUhiR1dZV2tXbkcuWWhtZFlrYy9sTWlBYWNNd1FBYlowVzdNb3NMRmV4dXNoSFFwZmEwNWVHN2dzTC8xCiAgICBzc2gtYXV0aG9yaXplZC1rZXlzOgogICAgICAtIHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQkFRQ1gzWm5ub2pTcHFpMVI3Q1dtUDd1VkZVMmZFZDJ1UzRQWVFwV0MyM1NjbURHUDdLRkhlVEpmTWM2ZU1hQWhieGZJWHgyQ0Zkc0loUDVVNThCRkxtQXhrVUlNOGxHbkhnaDF1TUUvYU9NWm9rWnJEaFludzBlYWFtVk9nMHJkS0QvdWFUbzg3QVNveHBmMFhZbnJxY3JZaEZJUW9keGpzQ0M4cENVNUVnamg5UURnSHNuaUo1dldFa3haR1BRNFNYSWo0dHhoOHVYTUkwbWg1N0JXSlJLMHpKSUR6WkN4dWJ0ck9wV29RblZ2Zy9aVitUaGd5MFA5bTdlOE9IYmFNM1UvN3A0REJkMU1aOTVqTndqZWZNZUQ1aFI0NlQzNXJrUjl3L2ViRUlLaEdqejBVQjJ5UlVaUE9QcUJ6VmZpeFlBNmdmZDVjMUFoamx1Q3lDcWhMRU1kIEdlbmVyYXRlZC1ieS1Ob3ZhCndyaXRlX2ZpbGVzOgogIC0gcGF0aDogL2V0Yy9zc2gvc3NoZF9jb25maWcKICAgIGNvbnRlbnQ6IHwKICAgICAgUG9ydCAxMzU1CiAgICAgIFBlcm1pdFJvb3RMb2dpbiBubwogICAgYXBwZW5kOiB0cnVlCiAgLSBwYXRoOiAvcm9vdC9sZW1wLWluc3RhbGwuc2gKICAgIGVuY29kaW5nOiBiYXNlNjQKICAgIHBlcm1pc3Npb25zOiA3MDAKICAgIGNvbnRlbnQ6IHwtCiAgICAgIEl5RXZZbWx1TDJKaGMyZ0tDbk5sZENBdFpRcHpiM1Z5WTJVZ1lYVjBhQzloYkhSbGNtNWpiRzkxWkM1bGJuWUtDa1JQVFVGSlRqMGllVzkxY2w5a2IyMWhhVzRpQ2dvaklFbHVjM1JoYkd3Z2NHRmphMkZuWlhNS2MzVmtieUJoY0hRZ2RYQmtZWFJsQ25OMVpHOGdZWEIwSUdsdWMzUmhiR3dnTFhrZ2JtZHBibmdnYldGeWFXRmtZaTF6WlhKMlpYSWdjR2h3TFdad2JTQndhSEF0YlhsemNXd0tDaU1nUTI5dVptbG5kWEpsSUcxaGNtbGhaR0lLYzNWa2J5QnRlWE54YkY5elpXTjFjbVZmYVc1emRHRnNiR0YwYVc5dUNtMWhjbWxoWkdJZ0xYVWdkM0F0ZFhObGNpQXRjQW9LSXlCRGIyNW1hV2QxY21VZ2JtZHBibmdLYzNWa2J5QnRhMlJwY2lBdmRtRnlMM2QzZHk4a1JFOU5RVWxPQ25OMVpHOGdZMmh2ZDI0Z0xWSWdKRlZUUlZJNkpGVlRSVklnTDNaaGNpOTNkM2N2SkVSUFRVRkpUZ3B6ZFdSdklIUnZkV05vSUM5bGRHTXZibWRwYm5ndmMybDBaWE10WVhaaGFXeGhZbXhsTHlSRVQwMUJTVTRLWldOb2J5QWljMlZ5ZG1WeUlIc0tJQ0FnSUNBZ0lDQnNhWE4wWlc0Z09EQTdDaUFnSUNBZ0lDQWdiR2x6ZEdWdUlGczZPbDA2T0RBN0Nnb2dJQ0FnSUNBZ0lISnZiM1FnTDNaaGNpOTNkM2N2ZVc5MWNsOWtiMjFoYVc0N0NpQWdJQ0FnSUNBZ2FXNWtaWGdnYVc1a1pYZ3VjR2h3SUdsdVpHVjRMbWgwYld3Z2FXNWtaWGd1YUhSdE93b0tJQ0FnSUNBZ0lDQnpaWEoyWlhKZmJtRnRaU0I1YjNWeVgyUnZiV0ZwYmpzS0NpQWdJQ0FnSUNBZ2JHOWpZWFJwYjI0Z0x5QjdDaUFnSUNBZ0lDQWdJQ0FnSUhSeWVWOW1hV3hsY3lBa2RYSnBJQ1IxY21rdklEMDBNRFE3Q2lBZ0lDQWdJQ0FnZlFvS0lDQWdJQ0FnSUNCc2IyTmhkR2x2YmlCK0lGd3VjR2h3SkNCN0NpQWdJQ0FnSUNBZ0lDQWdJR2x1WTJ4MVpHVWdjMjVwY0hCbGRITXZabUZ6ZEdObmFTMXdhSEF1WTI5dVpqc0tJQ0FnSUNBZ0lDQWdJQ0FnWm1GemRHTm5hVjl3WVhOeklIVnVhWGc2TDNaaGNpOXlkVzR2Y0dod0wzQm9jRGN1TXkxbWNHMHVjMjlqYXpzS0lDQWdJQ0FnSUNCOUNpQWdJQ0I5SWlBK0lDOWxkR012Ym1kcGJuZ3ZjMmwwWlhNdFlYWmhhV3hoWW14bEx5UkVUMDFCU1U0S2MzVmtieUJzYmlBdGN5QXZaWFJqTDI1bmFXNTRMM05wZEdWekxXRjJZV2xzWVdKc1pTOGtSRTlOUVVsT0lDOWxkR012Ym1kcGJuZ3ZjMmwwWlhNdFpXNWhZbXhsWkM4S2MzVmtieUJ1WjJsdWVDQXRkQXB6ZFdSdklITjVjM1JsYldOMGJDQnlaV3h2WVdRZ2JtZHBibmdLQ2lNZ1NXNXpkR0ZzYkNCM2IzSmtjSEpsYzNNS2QyZGxkQ0JvZEhSd2N6b3ZMM2R2Y21Sd2NtVnpjeTV2Y21jdmJHRjBaWE4wTG5wcGNBPT0KcnVuY21kOgogIC0gc3lzdGVtY3RsIHJlc3RhcnQgc3NoZAogIC0gL3Jvb3QvbGVtcC1pbnN0YWxsLnNoCg==")
  }
}

# data "template_file" "cloud-config" {
#   template = file("cloud-config.yaml")
# }